define("tabs-v1",["require","jquery","jade","modernizer","log","framework","bootstrap"],function(e){function m(){f.on("click","a.tab-menu",function(e){var n=t(e.currentTarget).attr("href"),r=n.replace(/^#tab-menu-/g,"");d[r]&&d[r].methods&&d[r].methods.create()}),l.on("click","span.fa.fa-times-circle",function(e){var n=t(e.currentTarget).closest("li"),r=n.attr("data-tab-uuid");return g(r),!0})}function g(e){var t=l.find("li[data-tab-uuid="+e+"]");if(!t||!t.length){r.error("destroy_tab: no link for uuid: "+e);return}var n=t.attr("data-mod-name"),i=t.find("a.tab-name").attr("aria-controls"),s=c.find("div#"+i+".tab-pane");y(t),t.remove(),setTimeout(function(){d[n]&&d[n].methods&&d[n].methods.destroy(s,e),s.empty(),s.remove()},1e3),u.tabs.destroyed({uuid:e});return}function y(e){var t=e.next();if(!t||!t.length)t=e.prev();e.hasClass("add")||t.find('a[data-toggle="tab"]').trigger("click")}function b(e,t){f.append('<li><a class="tab-menu" href="#tab-menu-'+e+'">'+e+"</a>"+"</li>")}var t=e("jquery");window.jade=e("jade");var n=e("modernizer"),r=e("log")("tabs-v1","info"),i=e("framework"),s=e("bootstrap"),o={},u=i.handle("tabs-v1"),a,f,l,c,h,p,d={};o.init=function(e,n,r){var i=t.Deferred();a=e.anchor;var s=u.template("tabs");return h=u.template("tabs-li"),p=u.template("tabs-tabpanel"),!s||!h||!p?(i.reject("tabs-v1: one or more templates not found"),i.promise()):(t(a).append(s()),f=t(a).find("ul.dropdown-menu"),l=t(a).find("ul.nav.nav-tabs"),c=t(a).find("div.tab-content"),m(),i.resolve(),i.promise())},o.register=function(e,t,n){return d[e]={methods:n,resource:t},b(e,t),null},o.start=function(e){};var v=0;return o.create=function(e,t){var n=e+v,r=t.display_name?t.display_name:e+"("+v+")";v++,l.find("li.active").removeClass("active"),c.find("div.active").removeClass("active"),l.append(h({id:n,display_name:r,uuid:t.uuid,module_name:e})),c.append(p({id:n,uuid:t.uuid}));var i={anchor:c.find("div.tab-pane#"+n)[0],id:n,uuid:t.uuid};return l.find("li a#"+n).tab("show"),i},o.destroy=function(e){var t=e.uuid;g(t)},o.sync_remote=function(e){var t=e.uuid,n=l.find("li[data-tab-uuid="+t+"]");n.addClass("tab-is-shared")},o}),require([""]);